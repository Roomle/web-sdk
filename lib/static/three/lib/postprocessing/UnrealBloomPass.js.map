{"version":3,"sources":["0"],"names":["THREE","UnrealBloomPass","resolution","strength","radius","threshold","Pass","call","this","undefined","Vector2","x","y","pars","minFilter","LinearFilter","magFilter","format","RGBAFormat","renderTargetsHorizontal","renderTargetsVertical","nMips","resx","Math","round","resy","renderTargetBright","WebGLRenderTarget","texture","name","generateMipmaps","i","renderTarget","push","LuminosityHighPassShader","console","error","highPassShader","highPassUniforms","UniformsUtils","clone","uniforms","value","materialHighPassFilter","ShaderMaterial","vertexShader","fragmentShader","defines","separableBlurMaterials","kernelSizeArray","getSeperableBlurMaterial","compositeMaterial","getCompositeMaterial","needsUpdate","bloomTintColors","Vector3","CopyShader","copyShader","copyUniforms","materialCopy","blending","AdditiveBlending","depthTest","depthWrite","transparent","enabled","needsSwap","oldClearColor","Color","oldClearAlpha","camera","OrthographicCamera","scene","Scene","basic","MeshBasicMaterial","quad","Mesh","PlaneBufferGeometry","frustumCulled","add","prototype","Object","assign","create","constructor","dispose","length","setSize","width","height","render","renderer","writeBuffer","readBuffer","delta","maskActive","copy","getClearColor","getClearAlpha","oldAutoClear","autoClear","setClearColor","context","disable","STENCIL_TEST","renderToScreen","material","map","inputRenderTarget","BlurDirectionX","BlurDirectionY","enable","kernelRadius","KERNEL_RADIUS","SIGMA","colorTexture","texSize","direction","NUM_MIPS","blurTexture1","blurTexture2","blurTexture3","blurTexture4","blurTexture5","dirtTexture","bloomStrength","bloomFactors","bloomRadius"],"mappings":"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"}