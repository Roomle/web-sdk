THREE.HDRCubeTextureLoader=function(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager,this.hdrLoader=new THREE.RGBELoader},THREE.HDRCubeTextureLoader.prototype.load=function(e,a,t,r,n){var i=function(e,a,t,r){var n=e[a+3],i=Math.pow(2,n-128)/255;t[r+0]=e[a+0]*i,t[r+1]=e[a+1]*i,t[r+2]=e[a+2]*i},E=function(){var e=new Float32Array(1),a=new Int32Array(e.buffer);function t(t){e[0]=t;var r=a[0],n=r>>16&32768,i=r>>12&2047,E=r>>23&255;return E<103?n:E>142?(n|=31744,n|=(255==E?0:1)&&8388607&r):E<113?n|=((i|=2048)>>114-E)+(i>>113-E&1):(n|=E-112<<10|i>>1,n+=1&i)}return function(e,a,r,n){var i=e[a+3],E=Math.pow(2,i-128)/255;r[n+0]=t(e[a+0]*E),r[n+1]=t(e[a+1]*E),r[n+2]=t(e[a+2]*E)}}(),o=new THREE.CubeTexture;o.type=e,o.encoding=e===THREE.UnsignedByteType?THREE.RGBEEncoding:THREE.LinearEncoding,o.format=e===THREE.UnsignedByteType?THREE.RGBAFormat:THREE.RGBFormat,o.minFilter=o.encoding===THREE.RGBEEncoding?THREE.NearestFilter:THREE.LinearFilter,o.magFilter=o.encoding===THREE.RGBEEncoding?THREE.NearestFilter:THREE.LinearFilter,o.generateMipmaps=o.encoding!==THREE.RGBEEncoding,o.anisotropy=0;var d=this,R=0;function T(t,r,n,T){var g=new THREE.FileLoader(d.manager);g.setPath(d.path),g.setResponseType("arraybuffer"),g.load(a[t],function(a){R++;var n=d.hdrLoader._parser(a);if(n){if(e===THREE.FloatType){for(var T=n.data.length/4*3,g=new Float32Array(T),H=0;H<T;H++)i(n.data,4*H,g,3*H);n.data=g}else if(e===THREE.HalfFloatType){T=n.data.length/4*3;var f=new Uint16Array(T);for(H=0;H<T;H++)E(n.data,4*H,f,3*H);n.data=f}if(void 0!==n.image)o[t].images=n.image;else if(void 0!==n.data){var p=new THREE.DataTexture(n.data,n.width,n.height);p.format=o.format,p.type=o.type,p.encoding=o.encoding,p.minFilter=o.minFilter,p.magFilter=o.magFilter,p.generateMipmaps=o.generateMipmaps,o.images[t]=p}6===R&&(o.needsUpdate=!0,r&&r(o))}},n,T)}for(var g=0;g<a.length;g++)T(g,t,r,n);return o},THREE.HDRCubeTextureLoader.prototype.setPath=function(e){return this.path=e,this};