{"version":3,"sources":["0"],"names":["THREE","DRACOLoader","manager","this","timeLoaded","DefaultLoadingManager","materials","verbosity","attributeOptions","drawMode","TrianglesDrawMode","nativeAttributeMap","position","normal","color","uv","prototype","constructor","load","url","onLoad","onProgress","onError","scope","loader","FileLoader","setPath","path","setResponseType","blob","decodeDracoFile","value","setVerbosity","level","setDrawMode","setSkipDequantization","attributeName","skip","skipDequantization","getAttributeOptions","rawBuffer","callback","attributeUniqueIdMap","attributeTypeMap","getDecoderModule","then","module","decodeDracoFileInternal","decoder","dracoDecoder","buffer","DecoderBuffer","Init","Int8Array","byteLength","Decoder","geometryType","GetEncodedGeometryType","TRIANGULAR_MESH","POINT_CLOUD","errorMsg","console","error","Error","convertDracoGeometryTo3JS","addAttributeToGeometry","dracoGeometry","attributeType","attribute","geometry","geometryBuffer","ptr","attributeData","TypedBufferAttribute","numComponents","num_components","numValues","num_points","Float32Array","DracoFloat32Array","GetAttributeFloatForAllPoints","Float32BufferAttribute","DracoInt8Array","GetAttributeInt8ForAllPoints","Int8BufferAttribute","Int16Array","DracoInt16Array","GetAttributeInt16ForAllPoints","Int16BufferAttribute","Int32Array","DracoInt32Array","GetAttributeInt32ForAllPoints","Int32BufferAttribute","Uint8Array","DracoUInt8Array","GetAttributeUInt8ForAllPoints","Uint8BufferAttribute","Uint16Array","DracoUInt16Array","GetAttributeUInt16ForAllPoints","Uint16BufferAttribute","Uint32Array","DracoUInt32Array","GetAttributeUInt32ForAllPoints","Uint32BufferAttribute","i","GetValue","addAttribute","destroy","decodingStatus","SkipAttributeTransform","POSITION","start_time","performance","now","Mesh","DecodeBufferToMesh","PointCloud","DecodeBufferToPointCloud","ok","error_msg","numFaces","decode_end","num_faces","toString","numPoints","numAttributes","num_attributes","posAttId","GetAttributeId","posAttribute","GetAttribute","BufferGeometry","attributeId","GetAttributeByUniqueId","attId","TriangleStripDrawMode","stripsArray","GetTriangleStripsFromMesh","indices","size","numIndices","ia","GetFaceFromMesh","index","setIndex","length","posTransform","AttributeQuantizationTransform","InitFromAttribute","attributes","isQuantized","maxRange","range","numQuantizationBits","quantization_bits","minValues","min_value","decode_time","import_time","isVersionSupported","version","decoderPath","decoderConfig","decoderModulePromise","setDecoderPath","setDecoderConfig","config","wasmBinary","releaseDecoderModule","promise","DracoDecoderModule","Promise","resolve","WebAssembly","type","_loadScript","wasmBinaryFile","_loadArrayBuffer","onModuleLoaded","src","prevScript","document","getElementById","parentNode","removeChild","head","getElementsByTagName","script","createElement","id","onload","appendChild","reject","undefined"],"mappings":"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"}