import{b as getAssetPath}from"./chunk-8ebdc893.js";const PROMISE_CALLBACKS=new Map,RESOURCES=new Map;class AsyncDependencyLoader{static loadFont(e){if(RESOURCES.has(e))return new Promise((s,t)=>{s(RESOURCES.get(e))});if(PROMISE_CALLBACKS.has(e))return new Promise((s,t)=>{PROMISE_CALLBACKS.get(e).push({resolve:s,reject:t})});let s=new THREE.FontLoader;return new Promise((t,r)=>{PROMISE_CALLBACKS.set(e,[{resolve:t,reject:r}]),s.load(getAssetPath()+e,s=>{RESOURCES.set(e,s),AsyncDependencyLoader._resolveAll(e,s)})})}static _resolveAll(e,s){PROMISE_CALLBACKS.has(e)&&PROMISE_CALLBACKS.get(e).forEach(e=>e.resolve(s)),PROMISE_CALLBACKS.delete(e)}}export{AsyncDependencyLoader as a};
//# sourceMappingURL=chunk-bdd152ab.js.map
